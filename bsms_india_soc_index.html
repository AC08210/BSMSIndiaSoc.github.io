<!-- FILE: index.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BSMS IndiaSoc</title>
  <meta name="description" content="BSMS IndiaSoc — Brighton & Sussex Medical School" />
  <!-- Google Fonts: Hammersmith One (title) & Lexend (body) -->
  <link href="https://fonts.googleapis.com/css2?family=Hammersmith+One&family=Lexend:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Swiper (Carousel) CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"/>

  <style>
    :root{
      --bg:#fffdfa; /* soft cream */
      --text:#0d1117;
      --muted:#55606a;
      --saffron:#ff9933; /* saffron */
      --green:#138808; /* Indian green */
      --accent:linear-gradient(90deg,var(--saffron),#ffb366,var(--green));
      --card:#ffffff;
      --glass:rgba(8,12,16,0.03);
      --radius:14px;
      --max-width:1100px;
      --shadow: 0 8px 24px rgba(16,24,40,0.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0;
      font-family: 'Lexend', system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
      background:var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      padding:28px;
    }
    .wrap{max-width:var(--max-width);margin:0 auto}

    /* Header */
    header{display:flex;align-items:center;justify-content:space-between;gap:18px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:64px;height:64px;border-radius:14px;background:var(--saffron);display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow)}
    .logo svg{width:36px;height:36px}
    h1.site-title{margin:0;font-family:'Hammersmith One',sans-serif;font-weight:400;font-size:20px}
    p.tag{margin:0;color:var(--muted);font-size:13px}

    nav{display:flex;gap:8px;align-items:center}
    .nav-link{background:transparent;border:0;padding:8px 12px;border-radius:10px;color:var(--text);cursor:pointer;font-weight:600}
    .nav-link.active{background:linear-gradient(90deg, rgba(0,0,0,0.04), rgba(0,0,0,0.02));}
    .btn-primary{background:var(--accent);border:0;padding:10px 14px;border-radius:10px;color:white;font-weight:700;cursor:pointer}

    /* Hero */
    .hero{display:flex;gap:18px;align-items:stretch;margin-top:22px}
    .hero-left{flex:1;background:var(--card);padding:22px;border-radius:var(--radius);box-shadow:var(--shadow)}
    .hero-right{width:420px;min-width:260px}
    .hero h2{font-family:'Hammersmith One';margin:0 0 8px 0;font-size:32px}
    .hero p{color:var(--muted);margin:0 0 12px 0}

    .pill{display:inline-block;padding:8px 12px;border-radius:999px;background:var(--glass);font-weight:600;margin-right:8px;color:var(--muted);font-size:13px}

    /* Cards */
    .card{background:var(--card);padding:16px;border-radius:12px;box-shadow:var(--shadow)}
    .small{font-size:14px}

    /* Events carousel */
    .swiper{width:100%;height:320px}
    .swiper-slide{display:flex;align-items:center;justify-content:center;border-radius:12px;overflow:hidden}
    .event-card{width:100%;height:100%;display:flex;flex-direction:column;justify-content:flex-end;padding:18px;color:white;background-size:cover;background-position:center}
    .event-card .label{background:rgba(0,0,0,0.45);padding:8px;border-radius:8px;font-weight:700}

    /* Sections */
    section{margin-top:20px}
    .grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .committee-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px}
    .person{background:linear-gradient(180deg,#fff,#fbfbfb);padding:12px;border-radius:12px;border:1px solid rgba(0,0,0,0.04);text-align:center}
    .person img{width:96px;height:96px;border-radius:999px;object-fit:cover;border:4px solid white;box-shadow:0 6px 18px rgba(10,10,10,0.06)}
    .role{color:var(--muted);font-size:13px}

    /* Forms */
    form input,form textarea,form select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(0,0,0,0.08);margin-top:8px;font-family:inherit}
    form button{margin-top:8px}

    /* Footer */
    footer{margin-top:28px;padding:18px;border-radius:12px;color:var(--muted);display:flex;justify-content:space-between;align-items:center}

    /* Responsive */
    @media (max-width:980px){
      .hero{flex-direction:column}
      .swiper{height:260px}
      .grid-3{grid-template-columns:repeat(2,1fr)}
    }
    @media (max-width:560px){
      nav{display:none}
      .grid-3{grid-template-columns:1fr}
      body{padding:14px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden>
          <!-- stylized tricolour mark -->
          <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <rect x="0" y="0" width="100" height="33" fill="#ff9933" />
            <rect x="0" y="33" width="100" height="34" fill="#fff" />
            <rect x="0" y="67" width="100" height="33" fill="#138808" />
            <circle cx="50" cy="50" r="18" fill="rgba(0,0,0,0.06)" />
          </svg>
        </div>
        <div>
          <h1 class="site-title">BSMS IndiaSoc</h1>
          <p class="tag">Brighton &amp; Sussex Medical School — celebrating South Asian culture</p>
        </div>
      </div>

      <nav id="mainNav">
        <button class="nav-link active" data-target="home">Home</button>
        <button class="nav-link" data-target="about">About</button>
        <button class="nav-link" data-target="events">Events</button>
        <button class="nav-link" data-target="gallery">Gallery</button>
        <button class="nav-link" data-target="join">Join Mailing List</button>
        <button class="nav-link" data-target="suggestions">Suggestions</button>
        <button class="nav-link" data-target="contact">Contact</button>
        <button class="btn-primary" onclick="location.hash='join'">Join Us</button>
      </nav>
    </header>

    <!-- Main SPA container: sections act like pages -->
    <main id="app">

      <!-- HOME -->
      <section id="home" class="page">
        <div class="hero">
          <div class="hero-left card">
            <h2>Welcome to BSMS IndiaSoc 👋</h2>
            <p>We organise cultural nights, talks, food socials and wellbeing spaces celebrating South Asian heritage. Everyone is welcome.</p>

            <div style="margin:12px 0">
              <span class="pill">Diwali &amp; Rangoli</span>
              <span class="pill">Bollywood Nights</span>
              <span class="pill">Curry Socials</span>
              <span class="pill">Talks &amp; Wellbeing</span>
            </div>

            <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:8px">
              <button class="btn-primary" onclick="navigate('events')">See Events</button>
              <button class="nav-link" onclick="navigate('contact')">Contact</button>
              <button class="nav-link" onclick="openProjectTemplate()">New Project</button>
            </div>

            <div style="margin-top:14px;display:flex;gap:12px;align-items:center">
              <div class="card small" style="padding:10px;flex:1">
                <div style="font-weight:800;font-size:18px">120+</div>
                <div style="color:var(--muted)">Members</div>
              </div>
              <div class="card small" style="padding:10px;flex:1">
                <div style="font-weight:800;font-size:18px">15</div>
                <div style="color:var(--muted)">Events / year</div>
              </div>
              <div class="card small" style="padding:10px;flex:1">
                <div style="font-weight:800;font-size:18px">Free</div>
                <div style="color:var(--muted)">Open to all</div>
              </div>
            </div>

          </div>

          <aside class="hero-right">
            <div class="card">
              <h4 style="margin:0 0 8px 0">Upcoming events</h4>

              <!-- Swiper carousel -->
              <div class="swiper" id="eventsSwiper">
                <div class="swiper-wrapper">
                  <!-- slides populated by JS -->
                </div>
                <!-- controls -->
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-pagination"></div>
              </div>

            </div>
          </aside>
        </div>

        <section style="margin-top:18px">
          <div class="card">
            <h3 style="margin:0 0 8px 0">Highlights</h3>
            <div class="grid-3" style="margin-top:12px">
              <div class="card">
                <h4 style="margin:0">Culture Night</h4>
                <p style="color:var(--muted);margin-top:8px">An evening of music, dance and student performances.</p>
              </div>
              <div class="card">
                <h4 style="margin:0">Curry Socials</h4>
                <p style="color:var(--muted);margin-top:8px">Regular dinners and recipe swaps — vegetarian options available.</p>
              </div>
              <div class="card">
                <h4 style="margin:0">Talks & Wellbeing</h4>
                <p style="color:var(--muted);margin-top:8px">Panels on identity, careers and community wellbeing.</p>
              </div>
            </div>
          </div>
        </section>
      </section>

      <!-- ABOUT -->
      <section id="about" class="page" style="display:none">
        <div class="card">
          <h3>About BSMS IndiaSoc</h3>
          <p style="color:var(--muted)">We are a student society at Brighton & Sussex Medical School celebrating South Asian culture through events, socials and discussion. We run cultural nights, food socials and wellbeing sessions and collaborate with other societies.</p>
        </div>

        <section style="margin-top:14px">
          <h3>Meet the committee</h3>
          <div class="committee-grid" style="margin-top:12px">
            <!-- 14 committee placeholders -->
            <!-- We'll create 14 person cards -->
            <script id="committee-template" type="text/template">
              <div class="person">
                <img src="https://images.unsplash.com/photo-1531123414780-f9a6b8c8a6f2?auto=format&fit=crop&w=400&q=60" alt="committee">
                <h4 class="name">Name</h4>
                <div class="role">Role</div>
              </div>
            </script>
            <div id="committeeList"></div>
          </div>
        </section>
      </section>

      <!-- EVENTS page -->
      <section id="events" class="page" style="display:none">
        <div class="card">
          <h3>All Events</h3>
          <p style="color:var(--muted)">Browse upcoming and past events. Click an event to view more details or RSVP.</p>
        </div>

        <div style="margin-top:12px" id="eventsList" class="grid-3"></div>

      </section>

      <!-- GALLERY -->
      <section id="gallery" class="page" style="display:none">
        <div class="card">
          <h3>Gallery</h3>
          <p style="color:var(--muted)">A selection of photos from our events. Click to enlarge.</p>
          <div class="grid-3" style="margin-top:12px" id="galleryGrid"></div>
        </div>
      </section>

      <!-- JOIN MAILING LIST -->
      <section id="join" class="page" style="display:none">
        <div class="card">
          <h3>Join our mailing list</h3>
          <p style="color:var(--muted)">We use a mailing list to announce events. Enter your details below.</p>

          <!-- Example Mailchimp embed (replace action URL with your form action) -->
          <form id="mailingForm" onsubmit="submitMailing(event)">
            <label>Full name
              <input required name="name" placeholder="E.g. Fatima Khan">
            </label>
            <label>Email address
              <input required type="email" name="email" placeholder="you@example.com">
            </label>
            <button class="btn-primary" type="submit">Subscribe</button>
            <div id="mailingMsg" style="margin-top:8px;color:var(--muted)"></div>
          </form>
        </div>
      </section>

      <!-- SUGGESTIONS -->
      <section id="suggestions" class="page" style="display:none">
        <div class="card">
          <h3>Suggestions</h3>
          <p style="color:var(--muted)">Have ideas for events or improvements? Tell us — anonymous submissions allowed.</p>

          <form id="suggestionsForm" onsubmit="submitSuggestion(event)">
            <label>Suggestion (optional name)
              <input name="name" placeholder="Optional">
            </label>
            <label>Your suggestion
              <textarea required name="suggestion" rows="4" placeholder="Tell us your idea"></textarea>
            </label>
            <button class="btn-primary" type="submit">Send suggestion</button>
            <div id="suggMsg" style="margin-top:8px;color:var(--muted)"></div>
          </form>
        </div>
      </section>

      <!-- CONTACT -->
      <section id="contact" class="page" style="display:none">
        <div class="card">
          <h3>Contact</h3>
          <p style="color:var(--muted)">General enquiries — or use the form to get in touch directly. Messages are forwarded to <strong>indiasoc@bsmsmedsoc.co.uk</strong>.</p>

          <div style="display:grid;grid-template-columns:1fr 360px;gap:16px;margin-top:12px">
            <div>
              <!-- Contact form: JS posts to Formspree by default. Replace YOUR_FORMSPREE_ID. -->
              <form id="contactForm" method="POST" onsubmit="submitContact(event)">
                <input type="hidden" name="_redirect" value="/thankyou.html">
                <label>Name
                  <input name="name" required>
                </label>
                <label>Email
                  <input type="email" name="email" required>
                </label>
                <label>Message
                  <textarea name="message" rows="5" required></textarea>
                </label>
                <button class="btn-primary" type="submit">Send message</button>
                <div id="contactMsg" style="margin-top:8px;color:var(--muted)"></div>
              </form>

              <p style="margin-top:12px;color:var(--muted)"><strong>Email:</strong> <a href="mailto:indiasoc@bsmsmedsoc.co.uk">indiasoc@bsmsmedsoc.co.uk</a></p>
              <p style="margin:0;color:var(--muted)"><strong>Instagram:</strong> <a href="https://instagram.com/bsmsindiasoc" target="_blank">@bsmsindiasoc</a></p>
            </div>

            <aside>
              <div class="card" style="padding:12px">
                <h4 style="margin:0 0 8px 0">Instagram feed</h4>
                <p style="color:var(--muted);margin:0 0 8px 0">Latest posts from <strong>@bsmsindiasoc</strong>. To show live posts, replace the placeholder widget below with your SnapWidget / LightWidget embed code or connect via the Instagram Graph API.</p>

                <!-- Placeholder iframe for third-party widget (replace with real widget) -->
                <div style="width:100%;height:260px;border-radius:8px;overflow:hidden;background:#fafafa;display:flex;align-items:center;justify-content:center;border:1px dashed rgba(0,0,0,0.06)">
                  <div style="text-align:center;color:var(--muted)">
                    <div style="font-weight:700">Instagram widget placeholder</div>
                    <div style="font-size:13px;margin-top:6px">Replace this with your widget embed to show posts</div>
                  </div>
                </div>

              </div>
            </aside>

          </div>
        </div>
      </section>

      <!-- PROJECT TEMPLATE MODAL (for linking projects) -->
      <div id="projectModal" style="display:none;position:fixed;inset:0;background:rgba(2,6,23,0.5);align-items:center;justify-content:center;padding:20px">
        <div style="width:900px;max-width:100%;background:white;border-radius:12px;padding:18px">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <h3 style="margin:0">New Project / Template</h3>
            <button onclick="closeProjectModal()" style="background:transparent;border:0;font-size:18px">✕</button>
          </div>
          <p style="color:var(--muted)">This is a reusable project template. You can link projects from the homepage or the events page by adding the project's ID.</p>

          <div style="display:grid;grid-template-columns:1fr 320px;gap:12px;margin-top:12px">
            <div>
              <label>Project title
                <input id="projTitle" placeholder="e.g. Diwali 2025">
              </label>
              <label>Short description
                <textarea id="projDesc" rows="4"></textarea>
              </label>
              <label>Link (optional)
                <input id="projLink" placeholder="/projects/diwali.html or external link">
              </label>
              <button class="btn-primary" onclick="saveProject()">Save project (local)</button>
            </div>

            <div style="padding:12px;background:#fbfbfb;border-radius:8px">
              <h4 style="margin-top:0">Preview</h4>
              <div id="projPreview" style="margin-top:8px;padding:8px;border-radius:8px;border:1px dashed rgba(0,0,0,0.04)">No content yet</div>
            </div>
          </div>
        </div>
      </div>

    </main>

    <footer>
      <div>© <strong>BSMS IndiaSoc</strong> — Brighton &amp; Sussex Medical School</div>
      <div style="display:flex;gap:12px;align-items:center;color:var(--muted)">
        <small>Made with ❤️</small>
      </div>
    </footer>
  </div>

  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>

  <script>
    /* --- Basic SPA navigation --- */
    const pages = Array.from(document.querySelectorAll('.page'));
    const navLinks = Array.from(document.querySelectorAll('.nav-link'));
    function showPage(id){
      pages.forEach(p=>p.style.display=(p.id===id? 'block':'none'));
      navLinks.forEach(n=>n.classList.toggle('active', n.dataset.target===id));
      window.scrollTo({top:0,behavior:'smooth'});
    }
    function navigate(id){ location.hash = id; }
    window.addEventListener('hashchange',()=>{ const id = location.hash.replace('#','') || 'home'; showPage(id)});
    // initial
    if(!location.hash) location.hash = 'home'; else showPage(location.hash.replace('#',''));

    // make top nav buttons work
    document.querySelectorAll('#mainNav .nav-link').forEach(btn=>btn.addEventListener('click',()=>{ navigate(btn.dataset.target); }))

    /* --- Sample events data & populate Swiper --- */
    const events = [
      {title:'Curry Social — Welcome Back', date:'2025-09-20', img:'https://images.unsplash.com/photo-1524499982521-1ffd58dd89ea?auto=format&fit=crop&w=1000&q=60', desc:'Casual evening of homemade curries, music and board games.'},
      {title:'Bollywood Dance Workshop', date:'2025-10-10', img:'https://images.unsplash.com/photo-1514512364185-6d8f1dfc5be7?auto=format&fit=crop&w=1000&q=60', desc:'Learn a group routine. No experience required.'},
      {title:'Diwali Celebration', date:'2025-11-12', img:'https://images.unsplash.com/photo-1542736667-069246bdbc93?auto=format&fit=crop&w=1000&q=60', desc:'Lights, sweets, performances & community dinner.'}
    ];

    // populate swiper slides
    const swiperWrap = document.querySelector('#eventsSwiper .swiper-wrapper');
    events.forEach(ev=>{
      const slide = document.createElement('div'); slide.className='swiper-slide';
      const card = document.createElement('div'); card.className='event-card'; card.style.backgroundImage=`url(${ev.img})`;
      card.innerHTML = `<div style="display:flex;justify-content:space-between;align-items:flex-start"><div class="label">${ev.title}</div></div><div style="height:12px"></div><div style="font-weight:600;background:rgba(0,0,0,0.45);padding:8px;border-radius:8px">${new Date(ev.date).toDateString()}</div>`;
      slide.appendChild(card);
      swiperWrap.appendChild(slide);
    });

    const swiper = new Swiper('#eventsSwiper',{
      slidesPerView:1,spaceBetween:12,loop:true,autoplay:{delay:4000,disableOnInteraction:false},
      pagination:{el:'.swiper-pagination',clickable:true},
      navigation:{nextEl:'.swiper-button-next',prevEl:'.swiper-button-prev'},
    });

    /* --- Populate events list & gallery --- */
    const eventsList = document.getElementById('eventsList');
    events.forEach(ev=>{
      const d = document.createElement('div'); d.className='card'; d.style.cursor='pointer';
      d.innerHTML = `<div style="height:160px;background-image:url(${ev.img});background-size:cover;border-radius:8px"></div><h4 style="margin:10px 0 0 0">${ev.title}</h4><p style="color:var(--muted)">${ev.desc}</p>`;
      eventsList.appendChild(d);
    });

    const galleryGrid = document.getElementById('galleryGrid');
    const galleryImgs = [
      'https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&w=1000&q=60',
      'https://images.unsplash.com/photo-1533777324565-a040eb52fac2?auto=format&fit=crop&w=1000&q=60',
      'https://images.unsplash.com/photo-1506368249639-73a05d6f6488?auto=format&fit=crop&w=1000&q=60',
      'https://images.unsplash.com/photo-1506126613408-eca07ce68773?auto=format&fit=crop&w=1000&q=60',
      'https://images.unsplash.com/photo-1482192596544-9eb780fc7f66?auto=format&fit=crop&w=1000&q=60',
      'https://images.unsplash.com/photo-1512453979798-5ea266f8880c?auto=format&fit=crop&w=1000&q=60'
    ];
    galleryImgs.forEach(src=>{
      const d=document.createElement('div'); d.className='card'; d.style.padding=0; d.innerHTML = `<div style="height:160px;background-image:url(${src});background-size:cover;background-position:center"></div>`; galleryGrid.appendChild(d);
    });

    /* --- Committee (14 members) --- */
    const committeeData = [
      {name:'Aisha Khan', role:'President', img:'https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&w=400&q=60'},
      {name:'Rahul Patel', role:'Events Lead', img:'https://images.unsplash.com/photo-1545996124-1b4b0b9ccf4b?auto=format&fit=crop&w=400&q=60'},
      {name:'Priya Sharma', role:'Welfare Officer', img:'https://images.unsplash.com/photo-1531123414780-f9a6b8c8a6f2?auto=format&fit=crop&w=400&q=60'},
      {name:'Imran Ali', role:'Treasurer', img:'https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?auto=format&fit=crop&w=400&q=60'},
      {name:'Sara Begum', role:'Secretary', img:'https://images.unsplash.com/photo-1544006659-f0b21884ce1d?auto=format&fit=crop&w=400&q=60'},
      {name:'Karan Mehta', role:'Media Lead', img:'https://images.unsplash.com/photo-1531123414780-f9a6b8c8a6f2?auto=format&fit=crop&w=400&q=60'},
      {name:'Nadia Khan', role:'Socials', img:'https://images.unsplash.com/photo-1545996124-1b4b0b9ccf4b?auto=format&fit=crop&w=400&q=60'},
      {name:'Arjun Singh', role:'Performances', img:'https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&w=400&q=60'},
      {name:'Leela Rao', role:'Outreach', img:'https://images.unsplash.com/photo-1544006659-f0b21884ce1d?auto=format&fit=crop&w=400&q=60'},
      {name:'Mohammed Yusuf', role:'Welfare Rep', img:'https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?auto=format&fit=crop&w=400&q=60'},
      {name:'Sana Khan', role:'Logistics', img:'https://images.unsplash.com/photo-1531123414780-f9a6b8c8a6f2?auto=format&fit=crop&w=400&q=60'},
      {name:'Dev Sharma', role:'Sponsorships', img:'https://images.unsplash.com/photo-1545996124-1b4b0b9ccf4b?auto=format&fit=crop&w=400&q=60'},
      {name:'Rina Patel', role:'Accessibility', img:'https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&w=400&q=60'},
      {name:'Omar Ahmed', role:'Web & Tech', img:'https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?auto=format&fit=crop&w=400&q=60'}
    ];

    const committeeList = document.getElementById('committeeList');
    committeeData.forEach(mem=>{
      const div = document.createElement('div'); div.className='person';
      div.innerHTML = `<img src="${mem.img}" alt="${mem.name}"><h4 style="margin:8px 0 4px 0">${mem.name}</h4><div class="role">${mem.role}</div>`;
      committeeList.appendChild(div);
    });

    /* --- Simple storage for projects (localStorage) --- */
    function openProjectTemplate(){ document.getElementById('projectModal').style.display='flex'; }
    function closeProjectModal(){ document.getElementById('projectModal').style.display='none'; }
    function saveProject(){
      const t = document.getElementById('projTitle').value || 'Untitled';
      const d = document.getElementById('projDesc').value || '';
      const l = document.getElementById('projLink').value || '';
      const p = {title:t,desc:d,link:l,created:Date.now()};
      const projects = JSON.parse(localStorage.getItem('projects')||'[]'); projects.unshift(p); localStorage.setItem('projects',JSON.stringify(projects));
      document.getElementById('projPreview').innerText = t + " — " + d.substring(0,120);
      alert('Project saved locally — you can later link it into the site or export.');
    }

    /* --- Forms: Mailing list & suggestions (demo, local) --- */
    function submitMailing(e){ e.preventDefault(); const f=new FormData(e.target); // demo: store locally
      const list=JSON.parse(localStorage.getItem('mailing')||'[]'); list.unshift({name:f.get('name'),email:f.get('email'),date:Date.now()}); localStorage.setItem('mailing',JSON.stringify(list)); document.getElementById('mailingMsg').innerText='Thanks — you are subscribed (local demo).'; }

    function submitSuggestion(e){ e.preventDefault(); const f=new FormData(e.target); const list=JSON.parse(localStorage.getItem('suggestions')||'[]'); list.unshift({name:f.get('name'),sugg:f.get('suggestion'),date:Date.now()}); localStorage.setItem('suggestions',JSON.stringify(list)); document.getElementById('suggMsg').innerText='Thanks — suggestion received (local demo).'; }

    /* --- Contact form: attempts to send to Formspree; fallback to mailto if blocked. --- */
    async function submitContact(e){
      e.preventDefault();
      const frm = document.getElementById('contactForm');
      const data = new FormData(frm);
      const msg = document.getElementById('contactMsg'); msg.style.color = 'var(--muted)'; msg.innerText = 'Sending...';

      // Replace YOUR_FORMSPREE_ID with your Formspree form id. If you prefer PHP, see contact.php included below.
      const FORMSPREE_ENDPOINT = 'https://formspree.io/f/YOUR_FORMSPREE_ID';
      try{
        const res = await fetch(FORMSPREE_ENDPOINT, {method:'POST', body: data, headers: { 'Accept':'application/json' }});
        if(res.ok){ msg.style.color='green'; msg.innerText = 'Message sent — we will reply to your email.'; frm.reset(); }
        else{ // fallback to mailto
          const body = `From: ${data.get('name')}
Email: ${data.get('email')}

${data.get('message')}`;
          window.location.href = `mailto:indiasoc@bsmsmedsoc.co.uk?subject=Website%20Enquiry&body=${encodeURIComponent(body)}`;
          msg.style.color='orange'; msg.innerText = 'Unable to send via form — opening email client.';
        }
      }catch(err){
        // network error -> mailto fallback
        const body = `From: ${data.get('name')}
Email: ${data.get('email')}

${data.get('message')}`;
        window.location.href = `mailto:indiasoc@bsmsmedsoc.co.uk?subject=Website%20Enquiry&body=${encodeURIComponent(body)}`;
        msg.style.color='orange'; msg.innerText = 'Offline — opened your email client as fallback.';
      }
    }

    /* --- Helpful note: display saved projects if any --- */
    (function loadSavedProjects(){
      const projects = JSON.parse(localStorage.getItem('projects')||'[]');
      if(projects.length){
        const container = document.createElement('div'); container.className='card'; container.style.marginTop='12px'; container.innerHTML='<h4>Saved Projects</h4>';
        projects.slice(0,5).forEach(p=>{ const el=document.createElement('div'); el.style.padding='8px 0'; el.innerHTML=`<strong>${p.title}</strong><div style="color:var(--muted)">${p.desc}</div>`; container.appendChild(el); });
        document.querySelector('#home .hero-left').appendChild(container);
      }
    })();

  </script>

  <!--
    NOTES & additional files:

    1) For contact forwarding to indiasoc@bsmsmedsoc.co.uk automatically without requiring the user to open an email client,
       set up a Formspree form (https://formspree.io) and replace YOUR_FORMSPREE_ID with your form ID. Formspree will
       forward submissions to any email you configure.

    2) If you host on a PHP-enabled server and prefer server-side forwarding, include the PHP script below as contact.php
       and make the contact form POST to contact.php. (You will need to place contact.php on your server alongside index.html.)
  -->

  <!-- FILE: contact.php (optional PHP fallback) -->
  <!--
  <?php
  // contact.php - simple mail-forwarding script (requires a server with PHP mail configured)
  if($_SERVER['REQUEST_METHOD'] === 'POST'){
    $name = htmlspecialchars($_POST['name'] ?? '');
    $email = filter_var($_POST['email'] ?? '', FILTER_VALIDATE_EMAIL);
    $message = htmlspecialchars($_POST['message'] ?? '');

    if(!$email){ http_response_code(400); echo 'Invalid email'; exit; }

    $to = 'indiasoc@bsmsmedsoc.co.uk';
    $subject = 'Website contact form: ' . ($name ?: 'No name');
    $body = "From: $name ( $email )

" . $message;
    $headers = "From: $email
Reply-To: $email
";

    if(mail($to, $subject, $body, $headers)){
      // success - redirect or return JSON
      header('Location: /thankyou.html');
      exit;
    } else {
      http_response_code(500);
      echo 'Failed to send message — please try again later.';
    }
  }
  ?>
  -->

</body>
</html>
